namespace = yukimura_annex_cap_events


country_event = {
	id = yukimura_annex_cap_events.1
	title = "yukimura_annex_cap_events.NAME1"
	desc = "yukimura_annex_cap_events.DESC1"
	picture = SIEGE_eventPicture
	
	hidden = yes
	is_triggered_only = yes

	trigger = {
		FROM = { 
			OR = {
			 	advisor = yukimura
				has_leader = "çœŸç”°å¹¸æ‘ï½¢ã€æ­¦å£«ã€‘"
			}
		}
	}	
	option = {
		name = "yukimura_annex_cap_events.OPTA1"
		country_event = {
			id = yukimura_annex_cap_events.2
			days = 1
		}
	}
}
#######################################################################
country_event = {
	id = yukimura_annex_cap_events.2
	title = "yukimura_annex_cap_events.NAME2"
	desc = "yukimura_annex_cap_events.DESC2"
	picture = CAPTURE_GENERAL_eventPicture
	
	is_triggered_only = yes
	# major = yes å°±æ˜¯æ˜­å‘Šå¤©ä¸‹
	major = yes
	
	option = {
		name = "yukimura_annex_cap_events.OPTA2"
		############################################
		## This table defined by rab_event_modifiers
		##------------------------------------------
		## å®…å¿ƒä»åš ra_ch1    ## á€¿?å†…æ”¿ rb_ch1
		##------------------------------------------
		## æœºæ•á€¿ÂºN ra_ch2    ## á€¿?å†›äº‹ rb_ch2
		##------------------------------------------
		## æ€§æ ¼æš´ã½ra_ch3    ## á€¿?å‘å±• rb_ch3
		##------------------------------------------
		## æ‡¦å¼±èƒ†å° ra_ch4    ## á€¿?åå£° rb_ch4
		##------------------------------------------
		## ã¼ªÃ¾Väº«ä¹ ra_ch5    ## á€¿?å®—æ•™ rb_ch5
		##------------------------------------------
		## áˆ¿ÃƒVå£®å¿— ra_ch6    ## á€¿?å¤–äº¤ rb_ch6
		##------------------------------------------
		## ä¼˜æŸ”å¯¡æ–­ ra_ch7    ## á€¿?äººæ–‡ rb_ch7
		##------------------------------------------
		## ç”¨äººå”¯æ‰ ra_ch8    ## á€¿?å•†ä¸š rb_ch8
		##------------------------------------------
		## å†²åŠ¨á„¿? ra_ch9    ##
		##------------------------------------------
		##AI á„¿=få›ç‹æ¡ä»¶ä¸ç¬¦åˆï¼Œå°±ä¸ä¼šã¼‰Ã©bç™»ç”¨
		##AI á„¿=få›ç‹æ¡ä»¶ç¬¦åˆï¼Œå°±æœ‰70%æœºç‡ã¼‰Ã©bä¹‹
		############################################				
		ai_chance = {
			factor = 70
			modifier = {
				factor = 0 #ä¸ç¬¦åˆä»¥ä¸‹çš„æ¡ä»¶ï¼Œç›´æ¥ä»70%æ‰åˆ°0%
				NOT = {
					OR = {
					
						has_ruler_modifier = ra_ch1		
						has_ruler_modifier = ra_ch2
						has_ruler_modifier = ra_ch4
						has_ruler_modifier = ra_ch5
						has_ruler_modifier = ra_ch7
						has_ruler_modifier = ra_ch8
						has_ruler_modifier = rb_ch5
						has_ruler_modifier = rb_ch6
						has_ruler_modifier = rb_ch7
													
					}
				}
			}
			modifier = {
				factor = 0 #ç¬¦åˆä»¥ä¸‹çš„æ¡ä»¶ï¼Œç›´æ¥ä»70%æ‰åˆ°0%
				OR = {
					tag = TKG
				}	
			}	
		}
		#ê¤så®¶ã¼‰Â†Nç™»ç”¨ï¼Œä¸”å›ç‹or otheræ¡ä»¶ç¬¦åˆ
		#ï„’Sá€¿fkå°†å»ºç«‹äºæ–°çš„å›½å®¶
		
		if = {
			limit = {
					NOT = {
			 			OR = {
				    		tag = TKG
				
						}	
					}
					OR = {
						has_ruler_modifier = ra_ch1		
						has_ruler_modifier = ra_ch2
						has_ruler_modifier = ra_ch4
						has_ruler_modifier = ra_ch5
						has_ruler_modifier = ra_ch7
						has_ruler_modifier = ra_ch8
						has_ruler_modifier = rb_ch5
						has_ruler_modifier = rb_ch6
						has_ruler_modifier = rb_ch7		
			     		}
			}
			
			if = { 
				limit = { ai = no }
					define_advisor = {
						type = yukimura
						name = "çœŸç”°å¹¸æ‘ï½¢ã€æ­¦å£«ã€‘"
						discount = yes	
						skill = 5
					}
			}
			if = { 
				limit = { ai = yes }
					define_general = {
					name = "çœŸç”°å¹¸æ‘ï½¢ã€æ­¦å£«ã€‘"
					fire = 4
					shock = 5
					manuever = 3
					siege = 2
					trait = rab_leader_yukimura
				}
			}
		}
		#ç©å®¶ã¼‰Â†Nç™»ç”¨ï¼Œä½†æ˜¯å›ç‹or otheræ¡ä»¶ä¸ç¬¦åˆ
		#á€¿0R æ­¦å°†æ‹’ç»çš„ç”»ã½¢
		
		if = {
			limit = {
			 NOT = {
			 	OR = {
					tag = TKG 
				}	
			}			
				NOT = {
					OR = {
						has_ruler_modifier = ra_ch1		
						has_ruler_modifier = ra_ch2
						has_ruler_modifier = ra_ch4
						has_ruler_modifier = ra_ch5
						has_ruler_modifier = ra_ch7
						has_ruler_modifier = ra_ch8
						has_ruler_modifier = rb_ch5
						has_ruler_modifier = rb_ch6
						has_ruler_modifier = rb_ch7
					
					}
				}
			}
				country_event = {
					id = yukimura_annex_cap_events.3
				}
		}
		if = {
			limit = {
			 	OR = {
					tag = TKG
					
				}	
			}
			country_event = {
				id = yukimura_annex_cap_events.3
			}
		}		
	}
		#ç©å®¶ã¼‰Â†Næ–©íŒ¿
	option = {
		name = "yukimura_annex_cap_events.OPTB2"
		ai_chance = { factor = 10 }	
		add_prestige = -2
		add_treasury = 100
	}	
		#ç©å®¶ã¼‰Â†Næµæ”¾
		#åœ¨å›½å†…á€¿açš„ä¸€ä¸ªçœåˆ†ï¼Œå»ºç«‹pov_xxx æ–°çš„çœä»½modifier  
	option = {
		name = "yukimura_annex_cap_events.OPTC2"
		ai_chance = { factor = 20 }
		add_prestige = 2
		hidden_effect = { 
			random_owned_province = {
				add_province_modifier = {
					name = "pov_yukimura"
					duration = -1
				}
			}
		}
	}	
}

######################æ­¦å°†æ‹’ç»çš„ç”»ã½¢###################################

country_event = {
	id = yukimura_annex_cap_events.3
	title = "yukimura_annex_cap_events.NAME3"
	desc = "yukimura_annex_cap_events.DESC3"
	picture = CAPTURE_GENERAL_eventPicture
	
	is_triggered_only = yes
	#å›åˆ°ä¹‹å‰çš„ "æ˜¾ç¤ºæŠ“åˆ°å°†á€¿Tçš„ç”»ã½¢	?Ã©b"
	option = {
		name = "yukimura_annex_cap_events.OPTA3"
		country_event = {
				id = yukimura_annex_cap_events.2
		}
	}
}
